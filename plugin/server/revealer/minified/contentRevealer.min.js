pdt.pretiusContentRevealer=function(){"use strict";var e,t,a=["TEXT","CHECKBOX_GROUP","DISPLAY_SAVES_STATE","DISPLAY_ONLY","HIDDEN","SHUTTLE","RADIO_GROUP","SELECT","POPUP_KEY_LOV","POPUP_LOV","SWITCH","TEXTAREA","CKEDITOR3","AUTO_COMPLETE","RICH TEXT EDITOR","COMBOBOX","MARKDOWN_EDITOR","QR_CODE","STAR RATING","SINGLE_CHECKBOX","FILE UPLOAD","IMAGE UPLOAD","COLOR_PICKER","DATE PICKER","PASSWORD","SELECT ONE","SELECT MANY","IMG","DISPLAY_MAP","GEOCODER","PCT_GRAPH","TEXT FIELD WITH AUTOCOMPLETE","NUMBER"],r="input:not('[data-for],.js-tabTrap,.a-GV-rowSelect'), .selectlist, .textarea, .listmanager:not(fieldset), .apex-item-radio, .apex-item-checkbox, .apex-item-display-only, .apex-item-group--shuttle, .apex-item-shuttle, .apex-item-group--switch, .apex-item-group--auto-complete, .apex-item-yes-no, textarea:not(.uc-froala--textarea), a-rich-text-editor, a-combobox, a-qrcode, a-file-upload, a-color-picker, a-date-picker, a-select, a-autocomplete, .apex-item-image, .apex-item-pct-graph, .apex-item-starrating, .shuttle:not(table), .shuttle_left, .shuttle_right, .checkbox_group:not('div,table'), .yes_no",i="pdt-revealer-ignore";function l(e){var t=document.createElement("textarea");return t.innerHTML=e,0===t.childNodes.length?"":t.childNodes[0].nodeValue}var o=["pContext","pFlowId","pFlowStepId","pInstance","pPageSubmissionId","pRequest","pReloadOnSubmit","pSalt","pPageItemsRowVersion","pPageItemsProtected","pdebug","apexCBMDummySelection","pPageChecksum","p_md5_checksum","pPageFormRegionChecksums"];function n(e,t){var a=document.createElement("script");a.id="tmpScript";var r=document.createTextNode("(function() {"+e+"})();");a.appendChild(r),$(document.body||document.head).length>0&&(document.body||document.head).appendChild(a),$("#tmpScript").remove()}function p(e){pdt.pretiusContentRevealer.debugMode&&console.log(e)}return{addHipster:function e(){if($("#apexDevToolbar").length>0&&$("#apexDevToolbarQuickEdit").length>0&&0==$("#apexDevToolbarRevealer").length){t='<img src="'+pdt.opt.filePrefix+'revealer/fontApexHipster-o.svg" onload="pdt.fixToolbarWidth();"  class="tablockHipsterIcon" />';var s=pdt.getSetting("revealer.kb").toLowerCase(),c=pdt.getSetting("revealer.dkb").toLowerCase();$("#apexDevToolbarQuickEdit").parent().before(l(apex.lang.formatNoEscape('<li><button id="apexDevToolbarRevealer" type="button" class="a-Button a-Button--devToolbar" title="View Page Information [ctrl+alt+%0]" aria-label="Vars" data-link=""> %1 <span class="a-DevToolbar-buttonLabel">Revealer</span> </button></li>',s,t)));var u=document.getElementById("apexDevToolbarRevealer");function d(e,t){Mousetrap.bindGlobal("ctrl+alt+"+e,function(e){window.parent.revealerTabID=t,parent.$(":focus").blur(),parent.pdt.pretiusContentRevealer.debugMode=!1,parent.$("#apexDevToolbarRevealer").trigger("click")}),Mousetrap.bindGlobal("ctrl+alt+shift+"+e,function(e){parent.$("#apexDevToolbarRevealer").length>0&&(parent.$(":focus").blur(),apex.message.showPageSuccess("Opening Revealer in Debug Mode"),parent.pdt.pretiusContentRevealer.debugMode=!0,parent.$("#apexDevToolbarRevealer").trigger("click"))})}u&&u.addEventListener("click",function(e){apex.theme.openRegion($("#pretiusRevealerInline")),$("#pretiusRevealerInline .t-DialogRegion-body").load(pdt.opt.filePrefix+"revealer/revealer.html"),$("#pretiusRevealerInline #pretiusContent").empty(),$(".pretiusRevealerInlineToTheTop .ui-dialog-title").text(" Pretius Developer Tool: Revealer"),function e(){var t=[],s=":";function c(e,r=""){var i={},s="$('body').attr('tmp_x', "+r+"apex.item('pFlowStepId').getValue());";n(s);var c=$("body").attr("tmp_x");$("body").removeAttr("tmp_x"),p(e);var u=c.split("_")[0];i.Page=c,i.Name=e.id;var s=l(apex.lang.format("var revealerItem = %0apex.item('%1'); var revealerValueItem = revealerItem.getValue(); var revealerType = revealerItem.item_type; var revealerValueItemString; if ( revealerValueItem instanceof Array) {     revealerValueItemString = revealerValueItem.join(':'); } else {     revealerValueItemString = revealerValueItem; } $('body').attr('tmp_tabLockCaseValue', revealerValueItemString); $('body').attr('tmp_tabLockCaseType',  revealerType); ",r,i.Name));if(n(s),i.Type=$("body").attr("tmp_tabLockCaseType"),i.Value=$("body").attr("tmp_tabLockCaseValue"),$("body").removeAttr("tmp_tabLockCaseValue"),$("body").removeAttr("tmp_tabLockCaseType"),""==i.Value&&(i.Value=e.value),i.Type&&(i.Type=i.Type.toUpperCase()),""==i.Name){var d=$(e).closest("div").attr("class");if(d&&d.startsWith("colorpicker")){var v=$(e).closest(".colorpicker").attr("id");i.Name=v+" > "+d.split(" ")[0].replace("colorpicker_",""),i.Type="INPUT (assoc. with COLOR_PICKER)"}}if($(e).hasClass("oj-component-initnode")&&(i.Type+=" (assoc. with AUTO_COMPLETE)"),$(e).is("a-rich-text-editor")&&(i.Type="RICH TEXT EDITOR"),$(e).is("a-combobox")&&(i.Type="COMBOBOX"),$(e).is("a-autocomplete")&&(i.Type="TEXT FIELD WITH AUTOCOMPLETE"),$(e).is("a-select")&&("true"==$(e).attr("multi-value")?i.Type="SELECT MANY":i.Type="SELECT ONE"),$(e).is("textarea")&&$(e).hasClass("markdown_editor")&&(i.Type="MARKDOWN_EDITOR"),$(e).is("input")&&$(e).parent().hasClass("a-Switch")&&(i.Type="SWITCH"),$(e).hasClass("a-StarRating")&&(i.Type="STAR RATING"),$(e).is("a-file-upload")&&("IMAGE"==$(e).attr("upload-type")?i.Type="IMAGE UPLOAD":i.Type="FILE UPLOAD"),$(e).is("a-date-picker")&&(i.Type="DATE PICKER"),"password"==$(e).attr("type")&&(i.Type="PASSWORD"),($(e).is("input")&&$(e).parent().hasClass("a-StarRating")||$(e).is("input")&&$(e).parent().is("a-color-picker")||$(e).is("input")&&$(e).parent().is("a-date-picker")||$(e).is("input")&&$(e).closest(".a-ColorPicker-dialog").length||$(e).is("input")&&$(e).closest(".checkbox_group").length||$(e).is("input")&&"text"==$(e).attr("type")&&$(e).closest("a-autocomplete").length||$(e).is("input")&&"hidden"==$(e).attr("type")&&$(e).parent().hasClass("apex-item-single-checkbox")||$(e).is("input")&&"file"==$(e).attr("type")&&$(e).parent().is("a-file-upload"))&&(i.Category="PO"),"FALSE"==i.Type&&(($(e).hasClass("apex-item-group--switch")||$(e).hasClass("apex-item-yes-no"))&&(i.Type="SWITCH"),$(e).hasClass("apex-item-group--auto-complete")&&(i.Type="AUTO_COMPLETE"),$(e).hasClass("a-Button--listManager")&&(i.Name="> "+i.Value,i.Type="(assoc. with LIST_MANAGER)"),$(e).is("fieldset")&&$(e).children(".apex-item-textarea:first").length>0&&(i.Type="(assoc. with TEXTAREA)"),""==i.Name)){i.Name=$(e).attr("name");var g=$(e).attr("type");g&&(i.Type=g.toUpperCase())}if("HIDDEN"==i.Type&&-1==o.indexOf(i.Name)&&$(e).next().find(".apex-item-popup-lov, .popup_lov").length>0&&(i.Type+=" (assoc. with POPUP_LOV)"),"SELECT"==i.Type&&($(e).hasClass("shuttle_left")||$(e).hasClass("shuttle_right"))&&(i.Type+=" (assoc. with SHUTTLE)"),"POPUP_LOV"==i.Type&&($(e).closest("fieldset").parent().closest("fieldset").hasClass("apex-item-list-manager")&&(i.Type+=" (assoc. with SELECT/LIST_MANAGER)"),"Add Entry"==$(e).attr("title")&&$(e).is("input")&&$(e).is('[id$="ADD"]')&&(i.Type+=" (assoc. with LIST_MANAGER)")),"DISPLAY_ONLY"==i.Type){var T=$(e).siblings('input[type="hidden"]:first').attr("id");T&&$("#"+T.replace("_DISPLAY",""))&&(i.Type+=" (assoc. with DISPLAY_ONLY)")}var m=$.inArray(i.Type,a);i.Category||(e.closest("[class^='a-IRR']")?i.Category="IR":e.closest("[class^='a-IG']")?i.Category="IG":o.indexOf(i.Name)>=0?i.Category="FW":i.Name&&i.Name.startsWith("P"+u)&&m>-1?i.Category="PI,PX":i.Name&&i.Name.startsWith("P0")&&m>-1?i.Category="PI,P0":i.Category="PO"),t.push(i)}n("$('body').attr('tmp_x', apex.item('pFlowStepId').getValue());");var u=$("body").attr("tmp_x");$("body").removeAttr("tmp_x"),s=s+u+":";var d=$(r).filter(function(){return!($(this).hasClass(i)||$(this).parents().hasClass(i))});$(d).each(function(){0==$(this).closest("#pretiusRevealerInline").length&&$(this)[0].hasAttribute("id")&&c(this)});var v=0,g="iframe:not([id=tablockRevealerFrame])";$(g).filter(function(){return $(this).parents(".ui-dialog--apex").length>0}).each(function(){var e=l(apex.lang.format(' $("%0").filter(function() {return $(this).parents(".ui-dialog--apex").length > 0;})[%1].contentWindow.',g,v));v+=1,u=this.contentWindow.pFlowStepId.value+"_"+v,s=s+this.contentWindow.pFlowStepId.value+":",$(this).contents().find(r).filter(function(e){return $(this)[0].hasAttribute("id")}).each(function(){c(this,e)})}),pdt.cloakDebugLevel(),apex.server.plugin(pdt.opt.ajaxIdentifier,{x01:"REVEALER",x02:s,p_clob_01:JSON.stringify(t)},{success:function(e){pdt.unCloakDebugLevel(),p(e),function e(t){for(var a=pretiusRevealer.distinctPages(t.data),r="",i=a.length,l=0;l<i;l++)"*"!=a[l]&&($("#pretiusRevealerInline #pretiusPageControls").append('<input type="radio" name="pFlowStepId" value="'+a[l]+'" id="pageFilter'+a[l]+'" />'),$("#pretiusRevealerInline #pretiusPageControls").append('<label for="pageFilter'+a[l]+'">Page '+a[l].split("_")[0]+"</label>"),r=r+a[l]+":");$("#pretiusRevealerInline #pretiusPageControls").attr("justPages",":"+r),$("#pretiusRevealerInline #pretiusPageControls").append('<input type="radio" name="pFlowStepId" id="pageFilterAll" value="All" />'),$("#pretiusRevealerInline #pretiusPageControls").append('<label for="pageFilterAll">All</label>'),$("#pretiusRevealerInline #pretiusContent").empty(),$("#pretiusRevealerInline #pretiusContent").append(pretiusRevealer.buildHtmlTable(t.data)),pretiusRevealer.customiseTable(),$("#pretiusRevealerInline #rSearchBox").keyup(function(e){pretiusRevealer.performFilter()}),$("#pretiusRevealerInline #rSearchBox").on("search",function(){pretiusRevealer.performFilter()}),$("#pretiusRevealerInline #rClearSearchBox").on("click",function(){apex.item("rSearchBox").setValue(),pretiusRevealer.performFilter()}),$("#pretiusRevealerInline input[type=radio]").click(function(){"DebugPage"==$("#pretiusRevealerInline input[type=radio][name=pCategory]:checked").val()?pretiusRevealer.getDebugViewContent():pretiusRevealer.performFilter()}),$("#pretiusRevealerInline input[type=radio][name=pFlowStepId]:first").trigger("click"),$("#pretiusRevealerInline .revealer-loading").addClass("switch-display-none"),$("#pretiusRevealerInline .revealer-header").removeClass("switch-display-none"),$("#pretiusRevealerInline #rSearchBox").focus(),"apex.oracle.com"==window.location.host&&($('#pretiusRevealerInline label[for="DebugPage"]').addClass("apex_disabled"),$("#pretiusRevealerInline #DebugPage").parent().attr("title","Disabled on apex.oracle.com due to ORA-00040")),window.parent.revealerTabID?($("#pretiusRevealerInline #"+window.parent.revealerTabID).click(),window.parent.revealerTabID=void 0):$("#pretiusRevealerInline input[type=radio][name=pCategory]:first").next().next().trigger("click")}({data:e.items})},error:function(e,t,a){pdt.ajaxErrorHandler(e,t,a)}})}()},!0),pdt.fixToolbarWidth(),$("#apexDevToolbar").width($(".a-DevToolbar-list").width()+"px"),""!==pdt.getSetting("revealer.kb")&&d(s,""),""!==pdt.getSetting("revealer.dkb")&&"apex.oracle.com"!=window.location.host&&d(c,"DebugPage"),"Y"==pdt.getSetting("revealer.tablockdeactivate")&&function e(){let t=document.getElementById("apexDevToolbar"),a={attributes:!0,childList:!0,subtree:!0},r=function(e,t){$("#apexDevToolbarVars").length>0&&($("#apexDevToolbarVars").closest("li").replaceWith(),l.disconnect())},i=function(e,t){$('body iframe[id="tablockRevealerFrame"]').length>0&&($('body iframe[id="tablockRevealerFrame"]').replaceWith(),o.disconnect())},l=new MutationObserver(r),o=new MutationObserver(i);l.observe(t,a),o.observe($("body")[0],a)}()}},injectScript:n,debugMode:e}}();