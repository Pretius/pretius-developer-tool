pdt.pretiusContentRevealer=function(){"use strict";function e(e){var t=document.createElement("textarea");return t.innerHTML=e,0===t.childNodes.length?"":t.childNodes[0].nodeValue}function t(e,t){var a=document.createElement("script");a.id="tmpScript";var r=document.createTextNode("(function() {"+e+"})();");a.appendChild(r),$(document.body||document.head).length>0&&(document.body||document.head).appendChild(a),$("#tmpScript").remove()}function a(){const e=document.getElementById("apexDevToolbar"),t={attributes:!0,childList:!0,subtree:!0},a=function(e,t){$("#apexDevToolbarVars").length>0&&($("#apexDevToolbarVars").closest("li").replaceWith(),i.disconnect())},r=function(e,t){$('body iframe[id="tablockRevealerFrame"]').length>0&&($('body iframe[id="tablockRevealerFrame"]').replaceWith(),l.disconnect())},i=new MutationObserver(a),l=new MutationObserver(r);i.observe(e,t),l.observe($("body")[0],t)}function r(e){pdt.pretiusContentRevealer.debugMode&&console.log(e)}function i(){function a(a,l=""){var o={},n="$('body').attr('tmp_x', "+l+"apex.item('pFlowStepId').getValue());";t(n);var p=$("body").attr("tmp_x");$("body").removeAttr("tmp_x"),r(a);var s=p.split("_")[0];o.Page=p,o.Name=a.id;n=e(apex.lang.format("var revealerItem = %0apex.item('%1'); var revealerValueItem = revealerItem.getValue(); var revealerType = revealerItem.item_type; var revealerValueItemString; if ( revealerValueItem instanceof Array) {     revealerValueItemString = revealerValueItem.join(':'); } else {     revealerValueItemString = revealerValueItem; } $('body').attr('tmp_tabLockCaseValue', revealerValueItemString); $('body').attr('tmp_tabLockCaseType',  revealerType); ",l,o.Name));if(t(n),o.Type=$("body").attr("tmp_tabLockCaseType"),o.Value=$("body").attr("tmp_tabLockCaseValue"),$("body").removeAttr("tmp_tabLockCaseValue"),$("body").removeAttr("tmp_tabLockCaseType"),""==o.Value&&(o.Value=a.value),o.Type&&(o.Type=o.Type.toUpperCase()),""==o.Name){var c=$(a).closest("div").attr("class");if(c&&c.startsWith("colorpicker")){var d=$(a).closest(".colorpicker").attr("id");o.Name=d+" > "+c.split(" ")[0].replace("colorpicker_",""),o.Type="INPUT (assoc. with COLOR_PICKER)"}}if($(a).hasClass("oj-component-initnode")&&(o.Type+=" (assoc. with AUTO_COMPLETE)"),"FALSE"==o.Type&&(($(a).hasClass("apex-item-group--switch")||$(a).hasClass("apex-item-yes-no"))&&(o.Type="SWITCH"),$(a).hasClass("apex-item-group--auto-complete")&&(o.Type="AUTO_COMPLETE"),$(a).hasClass("a-Button--listManager")&&(o.Name="> "+o.Value,o.Type="(assoc. with LIST_MANAGER)"),$(a).is("fieldset")&&$(a).children(".apex-item-textarea:first").length>0&&(o.Type="(assoc. with TEXTAREA)"),""==o.Name)){o.Name=$(a).attr("name");var m=$(a).attr("type");m&&(o.Type=m.toUpperCase())}if("HIDDEN"==o.Type&&-1==v.indexOf(o.Name)&&$(a).next().find(".apex-item-popup-lov, .popup_lov").length>0&&(o.Type+=" (assoc. with POPUP_LOV)"),"SELECT"==o.Type&&($(a).hasClass("shuttle_left")||$(a).hasClass("shuttle_right"))&&(o.Type+=" (assoc. with SHUTTLE)"),"POPUP_LOV"==o.Type&&($(a).closest("fieldset").parent().closest("fieldset").hasClass("apex-item-list-manager")&&(o.Type+=" (assoc. with SELECT/LIST_MANAGER)"),"Add Entry"==$(a).attr("title")&&$(a).is("input")&&$(a).is('[id$="ADD"]')&&(o.Type+=" (assoc. with LIST_MANAGER)")),"DISPLAY_ONLY"==o.Type){var g=$(a).siblings('input[type="hidden"]:first').attr("id");g&&$("#"+g.replace("_DISPLAY",""))&&(o.Type+=" (assoc. with DISPLAY_ONLY)")}var b=$.inArray(o.Type,u);a.closest("[class^='a-IRR']")?o.Category="IR":a.closest("[class^='a-IG']")?o.Category="IG":v.indexOf(o.Name)>=0?o.Category="FW":o.Name&&o.Name.startsWith("P"+s)&&b>-1?o.Category="PI,PX":o.Name&&o.Name.startsWith("P0")&&b>-1?o.Category="PI,P0":o.Category="PI,PO",i.push(o)}var i=[],o=":",n="$('body').attr('tmp_x', apex.item('pFlowStepId').getValue());";t(n);var p=$("body").attr("tmp_x");$("body").removeAttr("tmp_x"),o=o+p+":";var s=$(c).filter(function(){return!($(this).hasClass(d)||$(this).parents().hasClass(d))});$(s).each(function(){0==$(this).closest("#pretiusRevealerInline").length&&$(this)[0].hasAttribute("id")&&a(this)});var m=0,g="iframe:not([id=tablockRevealerFrame])";$(g).filter(function(){return $(this).parents(".ui-dialog--apex").length>0}).each(function(){var t=e(apex.lang.format(' $("%0").filter(function() {return $(this).parents(".ui-dialog--apex").length > 0;})[%1].contentWindow.',g,m));m+=1;p=this.contentWindow.pFlowStepId.value+"_"+m,o=o+this.contentWindow.pFlowStepId.value+":",$(this).contents().find(c).filter(function(e){return $(this)[0].hasAttribute("id")}).each(function(){a(this,t)})}),pdt.cloakDebugLevel(),apex.server.plugin(pdt.opt.ajaxIdentifier,{x01:"REVEALER",x02:o,p_clob_01:JSON.stringify(i)},{success:function(e){pdt.unCloakDebugLevel(),r(e),l({data:e.items})},error:function(e,t,a){pdt.ajaxErrorHandler(e,t,a)}})}function l(e){for(var t=pretiusRevealer.distinctPages(e.data),a="",r=t.length,i=0;i<r;i++)"*"!=t[i]&&($("#pretiusRevealerInline #pretiusPageControls").append('<input type="radio" name="pFlowStepId" value="'+t[i]+'" id="pageFilter'+t[i]+'" />'),$("#pretiusRevealerInline #pretiusPageControls").append('<label for="pageFilter'+t[i]+'">Page '+t[i].split("_")[0]+"</label>"),a=a+t[i]+":");$("#pretiusRevealerInline #pretiusPageControls").attr("justPages",":"+a),$("#pretiusRevealerInline #pretiusPageControls").append('<input type="radio" name="pFlowStepId" id="pageFilterAll" value="All" />'),$("#pretiusRevealerInline #pretiusPageControls").append('<label for="pageFilterAll">All</label>'),$("#pretiusRevealerInline #pretiusContent").empty(),$("#pretiusRevealerInline #pretiusContent").append(pretiusRevealer.buildHtmlTable(e.data)),pretiusRevealer.customiseTable(),$("#pretiusRevealerInline #rSearchBox").keyup(function(e){pretiusRevealer.performFilter()}),$("#pretiusRevealerInline #rSearchBox").on("search",function(){pretiusRevealer.performFilter()}),$("#pretiusRevealerInline #rClearSearchBox").on("click",function(){apex.item("rSearchBox").setValue(),pretiusRevealer.performFilter()}),$("#pretiusRevealerInline input[type=radio]").click(function(){"DebugPage"==$("#pretiusRevealerInline input[type=radio][name=pCategory]:checked").val()?pretiusRevealer.getDebugViewContent():pretiusRevealer.performFilter()}),$("#pretiusRevealerInline input[type=radio][name=pFlowStepId]:first").trigger("click"),$("#pretiusRevealerInline input[type=radio][name=pCategory]:first").next().next().trigger("click"),$("#pretiusRevealerInline .revealer-loading").addClass("switch-display-none"),$("#pretiusRevealerInline .revealer-header").removeClass("switch-display-none"),$("#pretiusRevealerInline #rSearchBox").focus(),"apex.oracle.com"==window.location.host&&($('#pretiusRevealerInline label[for="DebugPage"]').addClass("apex_disabled"),$("#pretiusRevealerInline #DebugPage").parent().attr("title","Disabled on apex.oracle.com due to ORA-00040"))}function o(e){apex.theme.openRegion($("#pretiusRevealerInline")),$("#pretiusRevealerInline .t-DialogRegion-body").load(pdt.opt.filePrefix+"revealer/revealer.html"),$("#pretiusRevealerInline #pretiusContent").empty(),$(".pretiusRevealerInlineToTheTop .ui-dialog-title").text(" Pretius Developer Tool: Revealer"),i()}function n(){var t=$("#apexDevToolbar").length>0;if(t&&$("#apexDevToolbarQuickEdit").length>0&&0==$("#apexDevToolbarRevealer").length){s='<img src="'+pdt.opt.filePrefix+'revealer/fontApexHipster-o.svg" onload="pdt.fixToolbarWidth();"  class="tablockHipsterIcon" />';var r=pdt.getSetting("revealer.kb").toLowerCase();$("#apexDevToolbarQuickEdit").parent().before(e(apex.lang.formatNoEscape('<li><button id="apexDevToolbarRevealer" type="button" class="a-Button a-Button--devToolbar" title="View Page Information [ctrl+alt+%0]" aria-label="Vars" data-link=""> %1 <span class="a-DevToolbar-buttonLabel">Revealer</span> </button></li>',r,s)));var i=document.getElementById("apexDevToolbarRevealer");i&&i.addEventListener("click",function(e){o()},!0),pdt.fixToolbarWidth(),$("#apexDevToolbar").width($(".a-DevToolbar-list").width()+"px"),""!=pdt.getSetting("revealer.kb")&&""!=r&&(Mousetrap.bindGlobal("ctrl+alt+"+r,function(e){parent.$(":focus").blur(),parent.pdt.pretiusContentRevealer.debugMode=!1,parent.$("#apexDevToolbarRevealer").trigger("click")}),Mousetrap.bindGlobal("ctrl+alt+shift+"+r,function(e){parent.$("#apexDevToolbarRevealer").length>0&&(parent.$(":focus").blur(),apex.message.showPageSuccess("Opening Revealer in Debug Mode"),parent.pdt.pretiusContentRevealer.debugMode=!0,parent.$("#apexDevToolbarRevealer").trigger("click"))})),"Y"==pdt.getSetting("revealer.tablockdeactivate")&&a()}}var p,s,u=["TEXT","CHECKBOX_GROUP","DISPLAY_SAVES_STATE","DISPLAY_ONLY","HIDDEN","SHUTTLE","RADIO_GROUP","SELECT","POPUP_KEY_LOV","POPUP_LOV","SWITCH","TEXTAREA","CKEDITOR3","AUTO_COMPLETE"],c="input:not('[data-for],.js-tabTrap,.a-GV-rowSelect'), .selectlist, .textarea, .listmanager:not(fieldset), .apex-item-radio, .apex-item-checkbox, .apex-item-display-only, .apex-item-group--shuttle, .apex-item-shuttle, .apex-item-group--switch, .apex-item-group--auto-complete, .apex-item-yes-no, textarea, .shuttle:not(table), .shuttle_left, .shuttle_right, .checkbox_group:not('div,table'), .yes_no",d="pdt-revealer-ignore",v=["pContext","pFlowId","pFlowStepId","pInstance","pPageSubmissionId","pRequest","pReloadOnSubmit","pSalt","pPageItemsRowVersion","pPageItemsProtected","pdebug","apexCBMDummySelection","pPageChecksum","p_md5_checksum","pPageFormRegionChecksums"];return{addHipster:n,injectScript:t,debugMode:p}}();