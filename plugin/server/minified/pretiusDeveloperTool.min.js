var pdt=function(){"use strict";function e(e,t){return null==e||""==e?t:e}function t(e){function t(e,t){return e.split(".").reduce(function(e,t){return e?e[t]:null},t||self)}return t("settings."+e,pdt.JSONsettings)}function i(){function e(){return document.documentElement.clientWidth}var t,i,a,n=$("#apexDevToolbar"),o="rtl"===n.css("direction")?"right":"left";t={width:""},n.hasClass("a-DevToolbar--top")||n.hasClass("a-DevToolbar--bottom")?(a=e(),t.whiteSpace="nowrap",n.css(t),i=n.children("ul")[0].clientWidth+4,i>a&&(i=a),t.whiteSpace="wrap",t.width=i,t[o]=(a-i)/2):t[o]="",n.css(t)}function a(){var t=$("#apexDevToolbar").length>0;if(t&&$("#apexDevToolbarOptions").length>0&&0==$("#apexDevToolbarPretiusDeveloperToolOptions").length){var a='<span class="a-Icon fa fa-filter fam-x fam-is-danger" aria-hidden="true"></span>';"true"==pdt.opt.configurationTest&&(a=a.replace("fam-x fam-is-danger","")),$("#apexDevToolbarOptions").parent().after(apex.lang.formatNoEscape('<li><button id="apexDevToolbarPretiusDeveloperToolOptions" type="button" class="a-Button a-Button--devToolbar" title="View Page Information [ctrl+alt+%0]" aria-label="Vars" data-link=""> %1 </button></li>',"Pretius Developer Tool Options",a));var n=document.getElementById("apexDevToolbarPretiusDeveloperToolOptions");function r(){var e={settings:{optout:{status:apex.item("R0_OPT_OUT").getValue()},revealer:{enable:apex.item("R0_REVEALER_ENABLE").getValue(),tablockdeactivate:apex.item("R0_REVEALER_CRIPPLE_TABLOCK").getValue(),kb:apex.item("R0_REVEALER_KB_SHORTCUT").getValue()},reloadframe:{enable:apex.item("R0_RELOAD_ENABLE").getValue(),developersonly:apex.item("R0_RELOAD_DEVELOPERS_ONLY").getValue(),bypasswarnonunsaved:apex.item("R0_RELOAD_BYPASS_UNCHANGED").getValue(),kb:apex.item("R0_RELOAD_KB_SHORTCUT").getValue()},buildoptionhightlight:{enable:apex.item("R0_BUILD_OPTION_ENABLE").getValue(),duration:apex.item("R0_BUILD_OPTION_DURATION").getValue()},devbar:{glowdebugenable:apex.item("R0_GLOW_DEBUG_ICON").getValue(),openbuilderenable:apex.item("R0_OPEN_BUILDER_ENABLE").getValue(),openbuildercache:apex.item("R0_OPEN_BUILDER_CACHE").getValue(),openbuilderapplimit:apex.item("R0_OPEN_BUILDER_APP_LIMIT").getValue(),openbuilderkb:apex.item("R0_OPEN_BUILDER_KB_SHORTCUT").getValue(),homereplacelink:apex.item("R0_HOME_REPLACE_LINK").getValue()}}};localStorage.setItem("pretiusDeveloperTool",JSON.stringify(e)),pdt.JSONsettings=e,apex.theme.closeRegion($("#pretiusRevealerInline")),apex.message.showPageSuccess("Settings saved. Refresh your browser.")}n&&n.addEventListener("click",function(e){o()},!0),l(),i(),$("#apexDevToolbar").width($(".a-DevToolbar-list").width()+"px"),$("#pretiusRevealerInline").on("click",".optOutLink",function(){apex.message.confirm("By Opting-Out of Pretius Developer Tool, you will no long have access to the plug-in features or this settings page.\n\nYou can regain access by typing the following in to the Browser Console \n\npdt.optIn();\n\nYou can find this command again on our GitHub Plugin Page\n\nAre you sure you wish to continue?",function(e){e&&(apex.item("R0_OPT_OUT").setValue("Y"),r())})}),$("#pretiusRevealerInline").on("click",".pdt-enable-all",function(){apex.item("R0_REVEALER_ENABLE").setValue("Y"),apex.item("R0_RELOAD_ENABLE").setValue("Y"),apex.item("R0_BUILD_OPTION_ENABLE").setValue("Y"),apex.item("R0_OPEN_BUILDER_ENABLE").setValue("Y"),apex.item("R0_GLOW_DEBUG_ICON").setValue("Y"),apex.item("R0_HOME_REPLACE_LINK").setValue("Y")}),$("#pretiusRevealerInline").on("click","#R0_SAVE",function(){r()}),$("#pretiusRevealerInline").on("click","#R0_CANCEL",function(){apex.theme.closeRegion($("#pretiusRevealerInline"))}),$("#pretiusRevealerInline").on("change","#R0_REVEALER_ENABLE",function(){"N"==e(apex.item("R0_REVEALER_ENABLE").getValue(),"N")?(apex.item("R0_REVEALER_CRIPPLE_TABLOCK_CONTAINER").disable(),apex.item("R0_REVEALER_KB_SHORTCUT_CONTAINER").disable()):(apex.item("R0_REVEALER_CRIPPLE_TABLOCK_CONTAINER").enable(),apex.item("R0_REVEALER_KB_SHORTCUT_CONTAINER").enable())}),$("#pretiusRevealerInline").on("change","#R0_RELOAD_ENABLE",function(){"N"==e(apex.item("R0_RELOAD_ENABLE").getValue(),"N")?(apex.item("R0_RELOAD_DEVELOPERS_ONLY_CONTAINER").disable(),apex.item("R0_RELOAD_BYPASS_UNCHANGED_CONTAINER").disable(),apex.item("R0_RELOAD_KB_SHORTCUT_CONTAINER").disable()):(apex.item("R0_RELOAD_DEVELOPERS_ONLY_CONTAINER").enable(),apex.item("R0_RELOAD_BYPASS_UNCHANGED_CONTAINER").enable(),apex.item("R0_RELOAD_KB_SHORTCUT_CONTAINER").enable())}),$("#pretiusRevealerInline").on("change","#R0_BUILD_OPTION_ENABLE",function(){"N"==e(apex.item("R0_BUILD_OPTION_ENABLE").getValue(),"N")?apex.item("R0_BUILD_OPTION_DURATION_CONTAINER").disable():apex.item("R0_BUILD_OPTION_DURATION_CONTAINER").enable()}),$("#pretiusRevealerInline").on("change","#R0_OPEN_BUILDER_ENABLE",function(){"N"==e(apex.item("R0_OPEN_BUILDER_ENABLE").getValue(),"N")?(apex.item("R0_OPEN_BUILDER_KB_SHORTCUT_CONTAINER").disable(),apex.item("R0_OPEN_BUILDER_CACHE_CONTAINER").disable(),apex.item("R0_OPEN_BUILDER_APP_LIMIT_CONTAINER").disable()):(apex.item("R0_OPEN_BUILDER_KB_SHORTCUT_CONTAINER").enable(),apex.item("R0_OPEN_BUILDER_CACHE_CONTAINER").enable(),apex.item("R0_OPEN_BUILDER_APP_LIMIT_CONTAINER").enable())})}}function n(){apex.widget.yesNo("R0_REVEALER_ENABLE","SWITCH_CB"),apex.widget.yesNo("R0_REVEALER_CRIPPLE_TABLOCK","SWITCH_CB"),apex.widget.yesNo("R0_RELOAD_ENABLE","SWITCH_CB"),apex.widget.yesNo("R0_RELOAD_DEVELOPERS_ONLY","SWITCH_CB"),apex.widget.yesNo("R0_RELOAD_BYPASS_UNCHANGED","SWITCH_CB"),apex.widget.yesNo("R0_BUILD_OPTION_ENABLE","SWITCH_CB"),apex.widget.yesNo("R0_OPEN_BUILDER_ENABLE","SWITCH_CB"),apex.widget.yesNo("R0_GLOW_DEBUG_ICON","SWITCH_CB"),apex.widget.yesNo("R0_OPEN_BUILDER_CACHE","SWITCH_CB"),apex.widget.yesNo("R0_OPEN_BUILDER_APP_LIMIT","SWITCH_CB"),apex.widget.yesNo("R0_HOME_REPLACE_LINK","SWITCH_CB"),$(".pretiusRevealerInlineToTheTop .t-ButtonRegion-col--right .t-ButtonRegion-buttons").empty(),$(".pretiusRevealerInlineToTheTop .t-ButtonRegion-col--left .t-ButtonRegion-buttons").empty(),$("#pretiusRevealerInline #R0_SAVE").appendTo($(".t-ButtonRegion-col--right .t-ButtonRegion-buttons")),$("#pretiusRevealerInline #R0_CANCEL").appendTo($(".t-ButtonRegion-col--left .t-ButtonRegion-buttons")),$(".pretiusRevealerInlineToTheTop #pretiusRevealerButtonRegion").show();var e=pdt.JSONsettings;if($.isEmptyObject(e)||(apex.item("R0_REVEALER_ENABLE").setValue(pdt.getSetting("revealer.enable")),apex.item("R0_REVEALER_CRIPPLE_TABLOCK").setValue(pdt.nvl(pdt.getSetting("revealer.tablockdeactivate"),"Y")),apex.item("R0_REVEALER_KB_SHORTCUT").setValue(pdt.nvl(pdt.getSetting("revealer.kb"),"Q")),apex.item("R0_RELOAD_ENABLE").setValue(pdt.getSetting("reloadframe.enable")),apex.item("R0_RELOAD_DEVELOPERS_ONLY").setValue(pdt.getSetting("reloadframe.bypasswarnonunsaved")),apex.item("R0_RELOAD_BYPASS_UNCHANGED").setValue(pdt.nvl(pdt.getSetting("reloadframe.bypasswarnonunsaved"),"Y")),apex.item("R0_RELOAD_KB_SHORTCUT").setValue(pdt.nvl(pdt.getSetting("reloadframe.kb"),"R")),apex.item("R0_BUILD_OPTION_ENABLE").setValue(pdt.getSetting("buildoptionhightlight.enable")),apex.item("R0_BUILD_OPTION_DURATION").setValue(pdt.nvl(pdt.getSetting("buildoptionhightlight.duration"),"6")),apex.item("R0_OPEN_BUILDER_ENABLE").setValue(pdt.getSetting("devbar.openbuilderenable")),apex.item("R0_OPEN_BUILDER_CACHE").setValue(pdt.getSetting("devbar.openbuildercache")),apex.item("R0_OPEN_BUILDER_APP_LIMIT").setValue(pdt.getSetting("devbar.openbuilderapplimit")),apex.item("R0_OPEN_BUILDER_KB_SHORTCUT").setValue(pdt.nvl(pdt.getSetting("devbar.openbuilderkb"),"W")),apex.item("R0_GLOW_DEBUG_ICON").setValue(pdt.getSetting("devbar.glowdebugenable")),apex.item("R0_HOME_REPLACE_LINK").setValue(pdt.getSetting("devbar.homereplacelink"))),$("#pretiusRevealerInline #R0_REVEALER_ENABLE").trigger("change"),$("#pretiusRevealerInline #R0_RELOAD_ENABLE").trigger("change"),$("#pretiusRevealerInline #R0_BUILD_OPTION_ENABLE").trigger("change"),$("#pretiusRevealerInline #R0_OPEN_BUILDER_ENABLE").trigger("change"),$("#pretiusRevealerInline #R0_GLOW_DEBUG_ICON").trigger("change"),$("#pretiusRevealerInline #R0_HOME_REPLACE_LINK").trigger("change"),"false"==pdt.opt.configurationTest&&$("#pretiusDeveloperToolWarning").show(),-1!==navigator.userAgent.indexOf("Mac")){var t="Keyboard Shortcut control+option+...";$("#R0_REVEALER_KB_SHORTCUT_LABEL").text(t),$("#R0_RELOAD_KB_SHORTCUT_LABEL").text(t),$("#R0_ROPEN_BUILDER_KB_SHORTCUT_LABEL").text(t)}}function o(e){apex.theme.openRegion($("#pretiusRevealerInline")),$("#pretiusRevealerInline .t-DialogRegion-body").load(pdt.opt.filePrefix+"pretiusDeveloperTool.html",function(){n()}),$("#pretiusRevealerInline #pretiusContent").empty(),$(".pretiusRevealerInlineToTheTop .ui-dialog-title").text(" Pretius Developer Tool: Options")}function l(){var e='<div class="pretiusRevealerFooter"><a class="pretiusRevealerLink pretiusFooterOptions" href="https://pretius.com/main/" target="_blank">Pretius</a><a class="pretiusRevealerLink" href="https://twitter.com/Matt_Mulvaney" target="_blank">@Matt_Mulvaney </a><a class="pretiusRevealerLink" href="https://twitter.com/PretiusSoftware" target="_blank">@PretiusSoftware</a><div class="pretiusTablockVersion"></div></div>';0==$(".t-Body-inlineDialogs").length&&$("#apexDevToolbar").prepend('<div class="t-Body-inlineDialogs"></div>'),0==$(".t-Body-inlineDialogs .container").length&&$(".t-Body-inlineDialogs").append('<div class="container"></div>'),$(".t-Body-inlineDialogs .container").append('    <div class="row">     <div class="col col-12 apex-col-auto">         <div id="pretiusRevealerInline_parent">             <div id="pretiusRevealerInline"                 class="t-DialogRegion js-modal js-dialog-noOverlay js-draggable js-resizable js-dialog-autoheight js-dialog-size600x400 js-regionDialog"                 style="display:none" title=" Pretius Developer Tool: Revealer">                 <div class="t-DialogRegion-wrap">                     <div class="t-DialogRegion-bodyWrapperOut">                         <div class="t-DialogRegion-bodyWrapperIn">                             <div class="t-DialogRegion-body"></div>                         </div>                     </div>                     <div class="t-DialogRegion-buttons">                         <div id="pretiusRevealerButtonRegion" class="t-ButtonRegion t-ButtonRegion--dialogRegion" style="display:none">                             <div class="t-ButtonRegion-wrap">                                 <div class="t-ButtonRegion-col t-ButtonRegion-col--left">                                     <div class="t-ButtonRegion-buttons"></div>                                 </div>                                 <div class="t-ButtonRegion-col t-ButtonRegion-col--right">                                     <div class="t-ButtonRegion-buttons"></div>                                 </div>                             </div>                         </div>                     </div>                 </div>             </div>         </div>     </div> </div> ');var t=window.innerWidth-20,i=window.innerHeight-20;t>1e3&&(t=1e3),i>650&&(i=650),$("#pretiusRevealerInline").each(function(){var a=$(this),n=a.hasClass("js-regionPopup"),o=["js-dialog-size600x400",t,i],l=/js-popup-pos-(\w+)/.exec(this.className),r=a.attr("data-parent-element"),s={autoOpen:!1,collapseEnabled:!0,noOverlay:a.hasClass("js-popup-noOverlay"),closeText:apex.lang.getMessage("APEX.DIALOG.CLOSE"),modal:n||a.hasClass("js-modal"),resizable:!n&&a.hasClass("js-resizable"),draggable:!n&&a.hasClass("js-draggable"),dialogClass:"ui-dialog--inline pretiusRevealerInlineToTheTop",open:function(e){$(".pretiusRevealerInlineToTheTop .pretiusCompressBtn").show(),$(".pretiusRevealerInlineToTheTop .pretiusExpandBtn").hide(),$(".pretiusRevealerInlineToTheTop #pretiusRevealerButtonRegion").hide();var t=$(".ui-widget-overlay.ui-front").css("z-index");$(e.target).dialog("option","overlay-z-index",t),$(".ui-widget-overlay.ui-front").css("z-index","")},close:function(e){var t=$(e.target).dialog("option","overlay-z-index");$(".ui-widget-overlay.ui-front").css("z-index",t)},create:function(){$(this).closest(".ui-dialog").css("position","fixed"),$("#pretiusRevealerInline").parent().append(e),$(".pretiusRevealerFooter .pretiusTablockVersion").text(pdt.opt.version)}},p=n?"popup":"dialog";o&&(s.width=o[1],s.height=o[2]),r&&n&&(s.parentElement=r,a.hasClass("js-popup-callout")&&(s.callout=!0),l&&(s.relativePosition=l[1])),$.each(["width","height","minWidth","minHeight","maxWidth","maxHeight"],function(e,t){var i=parseInt(a.attr("data-"+t.toLowerCase()),10);isNaN(i)||(s[t]=i)}),$.each(["appendTo","dialogClass"],function(e,t){var i=a.attr("data-"+t.toLowerCase());i&&(s[t]=i)}),s.appendTo&&"#"===s.appendTo.substring(0,1)&&0===$(s.appendTo).length&&$("#wwvFlowForm").after('<div id="'+util.escapeHTML(s.appendTo.substring(1))+'"></div>'),a[p](s).on(p+"open",function(){s.modal&&apex.navigation.beginFreezeScroll(),apex.widget.util.visibilityChange(a[0],!0)}).on(p+"resize",function(){$(this).closest(".ui-dialog").css("position","fixed")}).on(p+"close",function(){s.modal&&apex.navigation.endFreezeScroll(),$("#pretiusRevealerInline .t-DialogRegion-body").empty(),apex.widget.util.visibilityChange(a[0],!1)})});var a='<img src="'+pdt.opt.filePrefix+'revealer/fontApexHipster.svg" class="tablockHipsterIcon margin-right-sm"/>';$("#pretiusRevealerInline").parent().find(".ui-dialog-title").addClass("fa").before(a)}var r,s,p,u,R=function(e){pdt.da=e.da,pdt.opt=e.opt,pdt.JSONsettings=JSON.parse(localStorage.getItem("pretiusDeveloperTool")),apex.debug.info(e.opt.debugPrefix+"render",e),"Y"!=pdt.getSetting("optout.status")&&(a(),$.isEmptyObject(pdt.JSONsettings)||("Y"==t("revealer.enable")&&pdt.pretiusContentRevealer.addHipster(),"Y"==t("reloadframe.enable")&&pdt.pretiusContentReloadFrame.activate(),"Y"==t("buildoptionhightlight.enable")&&pdt.contentBuildOptionHighlight.activate(),"Y"==t("devbar.openbuilderenable")&&pdt.pretiusContentDevBar.activateOpenBuilder(),"Y"==t("devbar.glowdebugenable")&&pdt.pretiusContentDevBar.activateGlowDebug(),"Y"==t("devbar.homereplacelink")&&pdt.pretiusContentDevBar.activateHomeReplace())),pdt.fixToolbarWidth()},_=function(){pdt.pageDebugLevel=apex.item("pdebug").getValue(),apex.item("pdebug").setValue("LEVEL2")},g=function(){null!=pdt.pageDebugLevel&&apex.item("pdebug").setValue(pdt.pageDebugLevel)},d=function(e,t,i){pdt.unCloakDebugLevel(),apex.message.clearErrors(),apex.message.showErrors([{type:"error",location:["page"],message:i+"<br>Please check browser console.",unsafe:!1}]),apex.debug.info(e,t,i)},E=function(){var e=JSON.parse(localStorage.getItem("pretiusDeveloperTool"));null!=e&&(e.settings.optout.status="N",localStorage.setItem("pretiusDeveloperTool",JSON.stringify(e)),apex.message.showPageSuccess("Opted In to Pretius Developer Tool. Refresh your browser."))};return{render:R,da:r,opt:s,JSONsettings:p,nvl:e,fixToolbarWidth:i,getSetting:t,pageDebugLevel:u,cloakDebugLevel:_,unCloakDebugLevel:g,ajaxErrorHandler:d,optIn:E}}();