var pdt=function(){"use strict";function e(e,t){return null==e||""==e?t:e}function t(e){var t,i;return t="settings."+e,i=pdt.JSONsettings,t.split(".").reduce(function(e,t){return e?e[t]:null},i||self)}function i(){var e,t,i,a=$("#apexDevToolbar"),n="rtl"===a.css("direction")?"right":"left";e={width:""},a.hasClass("a-DevToolbar--top")||a.hasClass("a-DevToolbar--bottom")?(i=document.documentElement.clientWidth,e.whiteSpace="nowrap",a.css(e),(t=a.children("ul")[0].clientWidth+4)>i&&(t=i),e.whiteSpace="wrap",e.width=t,e[n]=(i-t)/2):e[n]="",a.css(e)}return{render:function a(n){pdt.da=n.da,pdt.opt=n.opt,pdt.JSONsettings=JSON.parse(localStorage.getItem("pretiusDeveloperTool")),apex.debug.info(n.opt.debugPrefix+"render",n),"Y"==pdt.getSetting("optout.status")||(function t(){if($("#apexDevToolbar").length>0&&$("#apexDevToolbarOptions").length>0&&0==$("#apexDevToolbarPretiusDeveloperToolOptions").length){var a,n,o,l='<span class="a-Icon fa fa-filter fam-x fam-is-danger" aria-hidden="true"></span>';"true"==pdt.opt.configurationTest&&(l=l.replace("fam-x fam-is-danger","")),$("#apexDevToolbarOptions").parent().after(apex.lang.formatNoEscape('<li><button id="apexDevToolbarPretiusDeveloperToolOptions" type="button" class="a-Button a-Button--devToolbar" title="View Page Information [ctrl+alt+%0]" aria-label="Vars" data-link=""> %1 </button></li>',"Pretius Developer Tool Options",l));var s=document.getElementById("apexDevToolbarPretiusDeveloperToolOptions");function r(){var e={settings:{optout:{status:apex.item("R0_OPT_OUT").getValue()},revealer:{enable:apex.item("R0_REVEALER_ENABLE").getValue(),tablockdeactivate:apex.item("R0_REVEALER_CRIPPLE_TABLOCK").getValue(),kb:apex.item("R0_REVEALER_KB_SHORTCUT").getValue(),dkb:apex.item("R0_REVEALER_DEBUG_KB_SHORTCUT").getValue(),debugrows:apex.item("R0_REVEALER_DEBUG_ROWS").getValue()},reloadframe:{enable:apex.item("R0_RELOAD_ENABLE").getValue(),developersonly:apex.item("R0_RELOAD_DEVELOPERS_ONLY").getValue(),bypasswarnonunsaved:apex.item("R0_RELOAD_BYPASS_UNCHANGED").getValue(),kb:apex.item("R0_RELOAD_KB_SHORTCUT").getValue()},buildoptionhightlight:{enable:apex.item("R0_BUILD_OPTION_ENABLE").getValue(),duration:apex.item("R0_BUILD_OPTION_DURATION").getValue()},devbar:{glowdebugenable:apex.item("R0_GLOW_DEBUG_ICON").getValue(),openbuilderenable:apex.item("R0_OPEN_BUILDER_ENABLE").getValue(),openbuildercache:apex.item("R0_OPEN_BUILDER_CACHE").getValue(),openbuilderapplimit:apex.item("R0_OPEN_BUILDER_APP_LIMIT").getValue(),openbuilderkb:apex.item("R0_OPEN_BUILDER_KB_SHORTCUT").getValue(),homereplacelink:apex.item("R0_HOME_REPLACE_LINK").getValue()}}};localStorage.setItem("pretiusDeveloperTool",JSON.stringify(e)),pdt.JSONsettings=e,apex.theme.closeRegion($("#pretiusRevealerInline")),apex.message.showPageSuccess("Settings saved. Refresh your browser.")}s&&s.addEventListener("click",function(e){var t;apex.theme.openRegion($("#pretiusRevealerInline")),$("#pretiusRevealerInline .t-DialogRegion-body").load(pdt.opt.filePrefix+"pretiusDeveloperTool.html",function(){!function e(){apex.widget.yesNo("R0_REVEALER_ENABLE","SWITCH_CB"),apex.widget.yesNo("R0_REVEALER_CRIPPLE_TABLOCK","SWITCH_CB"),apex.widget.yesNo("R0_RELOAD_ENABLE","SWITCH_CB"),apex.widget.yesNo("R0_RELOAD_DEVELOPERS_ONLY","SWITCH_CB"),apex.widget.yesNo("R0_RELOAD_BYPASS_UNCHANGED","SWITCH_CB"),apex.widget.yesNo("R0_BUILD_OPTION_ENABLE","SWITCH_CB"),apex.widget.yesNo("R0_OPEN_BUILDER_ENABLE","SWITCH_CB"),apex.widget.yesNo("R0_GLOW_DEBUG_ICON","SWITCH_CB"),apex.widget.yesNo("R0_OPEN_BUILDER_CACHE","SWITCH_CB"),apex.widget.yesNo("R0_OPEN_BUILDER_APP_LIMIT","SWITCH_CB"),apex.widget.yesNo("R0_HOME_REPLACE_LINK","SWITCH_CB"),$(".pretiusRevealerInlineToTheTop .t-ButtonRegion-col--right .t-ButtonRegion-buttons").empty(),$(".pretiusRevealerInlineToTheTop .t-ButtonRegion-col--left .t-ButtonRegion-buttons").empty(),$("#pretiusRevealerInline #R0_SAVE").appendTo($(".t-ButtonRegion-col--right .t-ButtonRegion-buttons")),$("#pretiusRevealerInline #R0_CANCEL").appendTo($(".t-ButtonRegion-col--left .t-ButtonRegion-buttons")),$(".pretiusRevealerInlineToTheTop #pretiusRevealerButtonRegion").show();var t=pdt.JSONsettings;if($.isEmptyObject(t)||(apex.item("R0_REVEALER_ENABLE").setValue(pdt.getSetting("revealer.enable")),apex.item("R0_REVEALER_CRIPPLE_TABLOCK").setValue(pdt.nvl(pdt.getSetting("revealer.tablockdeactivate"),"Y")),apex.item("R0_REVEALER_KB_SHORTCUT").setValue(pdt.nvl(pdt.getSetting("revealer.kb"),"Q")),apex.item("R0_REVEALER_DEBUG_KB_SHORTCUT").setValue(pdt.nvl(pdt.getSetting("revealer.dkb"),"D")),apex.item("R0_REVEALER_DEBUG_ROWS").setValue(pdt.nvl(pdt.getSetting("revealer.debugrows"),"10")),apex.item("R0_RELOAD_ENABLE").setValue(pdt.getSetting("reloadframe.enable")),apex.item("R0_RELOAD_DEVELOPERS_ONLY").setValue(pdt.getSetting("reloadframe.bypasswarnonunsaved")),apex.item("R0_RELOAD_BYPASS_UNCHANGED").setValue(pdt.nvl(pdt.getSetting("reloadframe.bypasswarnonunsaved"),"Y")),apex.item("R0_RELOAD_KB_SHORTCUT").setValue(pdt.nvl(pdt.getSetting("reloadframe.kb"),"R")),apex.item("R0_BUILD_OPTION_ENABLE").setValue(pdt.getSetting("buildoptionhightlight.enable")),apex.item("R0_BUILD_OPTION_DURATION").setValue(pdt.nvl(pdt.getSetting("buildoptionhightlight.duration"),"6")),apex.item("R0_OPEN_BUILDER_ENABLE").setValue(pdt.getSetting("devbar.openbuilderenable")),apex.item("R0_OPEN_BUILDER_CACHE").setValue(pdt.getSetting("devbar.openbuildercache")),apex.item("R0_OPEN_BUILDER_APP_LIMIT").setValue(pdt.getSetting("devbar.openbuilderapplimit")),apex.item("R0_OPEN_BUILDER_KB_SHORTCUT").setValue(pdt.nvl(pdt.getSetting("devbar.openbuilderkb"),"W")),apex.item("R0_GLOW_DEBUG_ICON").setValue(pdt.getSetting("devbar.glowdebugenable")),apex.item("R0_HOME_REPLACE_LINK").setValue(pdt.getSetting("devbar.homereplacelink"))),$("#pretiusRevealerInline #R0_REVEALER_ENABLE").trigger("change"),$("#pretiusRevealerInline #R0_RELOAD_ENABLE").trigger("change"),$("#pretiusRevealerInline #R0_BUILD_OPTION_ENABLE").trigger("change"),$("#pretiusRevealerInline #R0_OPEN_BUILDER_ENABLE").trigger("change"),$("#pretiusRevealerInline #R0_GLOW_DEBUG_ICON").trigger("change"),$("#pretiusRevealerInline #R0_HOME_REPLACE_LINK").trigger("change"),"false"==pdt.opt.configurationTest&&$("#pretiusDeveloperToolWarning").show(),-1!==navigator.userAgent.indexOf("Mac")){var i="Keyboard Shortcut control+option+...";$("#R0_REVEALER_KB_SHORTCUT_LABEL").text(i),$("#R0_REVEALER_DEBUG_KB_SHORTCUT_LABEL").text(i),$("#R0_RELOAD_KB_SHORTCUT_LABEL").text(i),$("#R0_ROPEN_BUILDER_KB_SHORTCUT_LABEL").text(i)}}()}),$("#pretiusRevealerInline #pretiusContent").empty(),$(".pretiusRevealerInlineToTheTop .ui-dialog-title").text(" Pretius Developer Tool: Options")},!0),0==$(".t-Body-inlineDialogs").length&&$("#apexDevToolbar").prepend('<div class="t-Body-inlineDialogs"></div>'),0==$(".t-Body-inlineDialogs .container").length&&$(".t-Body-inlineDialogs").append('<div class="container"></div>'),$(".t-Body-inlineDialogs .container").append('    <div class="row">     <div class="col col-12 apex-col-auto">         <div id="pretiusRevealerInline_parent">             <div id="pretiusRevealerInline"                 class="t-DialogRegion js-modal js-dialog-noOverlay js-draggable js-resizable js-dialog-autoheight js-dialog-size600x400 js-regionDialog"                 style="display:none" title=" Pretius Developer Tool: Revealer">                 <div class="t-DialogRegion-wrap">                     <div class="t-DialogRegion-bodyWrapperOut">                         <div class="t-DialogRegion-bodyWrapperIn">                             <div class="t-DialogRegion-body"></div>                         </div>                     </div>                     <div class="t-DialogRegion-buttons">                         <div id="pretiusRevealerButtonRegion" class="t-ButtonRegion t-ButtonRegion--dialogRegion" style="display:none">                             <div class="t-ButtonRegion-wrap">                                 <div class="t-ButtonRegion-col t-ButtonRegion-col--left">                                     <div class="t-ButtonRegion-buttons"></div>                                 </div>                                 <div class="t-ButtonRegion-col t-ButtonRegion-col--right">                                     <div class="t-ButtonRegion-buttons"></div>                                 </div>                             </div>                         </div>                     </div>                 </div>             </div>         </div>     </div> </div> '),a=window.innerWidth-20,n=window.innerHeight-20,a>1e3&&(a=1e3),n>650&&(n=650),$("#pretiusRevealerInline").each(function(){var e=$(this),t=e.hasClass("js-regionPopup"),i=["js-dialog-size600x400",a,n],o=/js-popup-pos-(\w+)/.exec(this.className),l=e.attr("data-parent-element"),s={autoOpen:!1,collapseEnabled:!0,noOverlay:e.hasClass("js-popup-noOverlay"),closeText:apex.lang.getMessage("APEX.DIALOG.CLOSE"),modal:t||e.hasClass("js-modal"),resizable:!t&&e.hasClass("js-resizable"),draggable:!t&&e.hasClass("js-draggable"),dialogClass:"ui-dialog--inline pretiusRevealerInlineToTheTop",open:function(e){$(".pretiusRevealerInlineToTheTop .pretiusCompressBtn").show(),$(".pretiusRevealerInlineToTheTop .pretiusExpandBtn").hide(),$(".pretiusRevealerInlineToTheTop #pretiusRevealerButtonRegion").hide();var t=$(".ui-widget-overlay.ui-front").css("z-index");$(e.target).dialog("option","overlay-z-index",t),$(".ui-widget-overlay.ui-front").css("z-index","")},close:function(e){var t=$(e.target).dialog("option","overlay-z-index");$(".ui-widget-overlay.ui-front").css("z-index",t)},create:function(){$(this).closest(".ui-dialog").css("position","fixed"),$("#pretiusRevealerInline").parent().append('<div class="pretiusRevealerFooter"><a class="pretiusRevealerLink pretiusFooterOptions" href="https://pretius.com/main/" target="_blank">Pretius</a><a class="pretiusRevealerLink" href="https://twitter.com/Matt_Mulvaney" target="_blank">@Matt_Mulvaney </a><a class="pretiusRevealerLink" href="https://twitter.com/PretiusSoftware" target="_blank">@PretiusSoftware</a><div class="pretiusTablockVersion"></div></div>'),$(".pretiusRevealerFooter .pretiusTablockVersion").text(pdt.opt.version)}},r=t?"popup":"dialog";i&&(s.width=i[1],s.height=i[2]),l&&t&&(s.parentElement=l,e.hasClass("js-popup-callout")&&(s.callout=!0),o&&(s.relativePosition=o[1])),$.each(["width","height","minWidth","minHeight","maxWidth","maxHeight"],function(t,i){var a=parseInt(e.attr("data-"+i.toLowerCase()),10);isNaN(a)||(s[i]=a)}),$.each(["appendTo","dialogClass"],function(t,i){var a=e.attr("data-"+i.toLowerCase());a&&(s[i]=a)}),s.appendTo&&"#"===s.appendTo.substring(0,1)&&0===$(s.appendTo).length&&$("#wwvFlowForm").after('<div id="'+util.escapeHTML(s.appendTo.substring(1))+'"></div>'),e[r](s).on(r+"open",function(){s.modal&&apex.navigation.beginFreezeScroll(),apex.widget.util.visibilityChange(e[0],!0)}).on(r+"resize",function(){$(this).closest(".ui-dialog").css("position","fixed")}).on(r+"close",function(){s.modal&&apex.navigation.endFreezeScroll(),$("#pretiusRevealerInline .t-DialogRegion-body").empty(),apex.widget.util.visibilityChange(e[0],!1)})}),o='<img src="'+pdt.opt.filePrefix+'revealer/fontApexHipster.svg" class="tablockHipsterIcon margin-right-sm"/>',$("#pretiusRevealerInline").parent().find(".ui-dialog-title").addClass("fa").before(o),i(),$("#apexDevToolbar").width($(".a-DevToolbar-list").width()+"px"),$("#pretiusRevealerInline").on("click",".optOutLink",function(){apex.message.confirm("By Opting-Out of Pretius Developer Tool, you will no long have access to the plug-in features or this settings page.\n\nYou can regain access by typing the following in to the Browser Console \n\npdt.optIn();\n\nYou can find this command again on our GitHub Plugin Page\n\nAre you sure you wish to continue?",function(e){e&&(apex.item("R0_OPT_OUT").setValue("Y"),r())})}),$("#pretiusRevealerInline").on("click",".pdt-enable-all",function(){apex.item("R0_REVEALER_ENABLE").setValue("Y"),apex.item("R0_RELOAD_ENABLE").setValue("Y"),apex.item("R0_BUILD_OPTION_ENABLE").setValue("Y"),apex.item("R0_OPEN_BUILDER_ENABLE").setValue("Y"),apex.item("R0_GLOW_DEBUG_ICON").setValue("Y"),apex.item("R0_HOME_REPLACE_LINK").setValue("Y")}),$("#pretiusRevealerInline").on("click","#R0_SAVE",function(){r()}),$("#pretiusRevealerInline").on("click","#R0_CANCEL",function(){apex.theme.closeRegion($("#pretiusRevealerInline"))}),$("#pretiusRevealerInline").on("change","#R0_REVEALER_ENABLE",function(){"N"==e(apex.item("R0_REVEALER_ENABLE").getValue(),"N")?(apex.item("R0_REVEALER_CRIPPLE_TABLOCK_CONTAINER").disable(),apex.item("R0_REVEALER_KB_SHORTCUT_CONTAINER").disable(),apex.item("R0_REVEALER_DEBUG_KB_SHORTCUT_CONTAINER").disable(),apex.item("R0_REVEALER_DEBUG_ROWS_CONTAINER").disable()):(apex.item("R0_REVEALER_CRIPPLE_TABLOCK_CONTAINER").enable(),apex.item("R0_REVEALER_KB_SHORTCUT_CONTAINER").enable(),apex.item("R0_REVEALER_DEBUG_KB_SHORTCUT_CONTAINER").enable(),apex.item("R0_REVEALER_DEBUG_ROWS_CONTAINER").enable())}),$("#pretiusRevealerInline").on("change","#R0_RELOAD_ENABLE",function(){"N"==e(apex.item("R0_RELOAD_ENABLE").getValue(),"N")?(apex.item("R0_RELOAD_DEVELOPERS_ONLY_CONTAINER").disable(),apex.item("R0_RELOAD_BYPASS_UNCHANGED_CONTAINER").disable(),apex.item("R0_RELOAD_KB_SHORTCUT_CONTAINER").disable()):(apex.item("R0_RELOAD_DEVELOPERS_ONLY_CONTAINER").enable(),apex.item("R0_RELOAD_BYPASS_UNCHANGED_CONTAINER").enable(),apex.item("R0_RELOAD_KB_SHORTCUT_CONTAINER").enable())}),$("#pretiusRevealerInline").on("change","#R0_BUILD_OPTION_ENABLE",function(){"N"==e(apex.item("R0_BUILD_OPTION_ENABLE").getValue(),"N")?apex.item("R0_BUILD_OPTION_DURATION_CONTAINER").disable():apex.item("R0_BUILD_OPTION_DURATION_CONTAINER").enable()}),$("#pretiusRevealerInline").on("change","#R0_OPEN_BUILDER_ENABLE",function(){"N"==e(apex.item("R0_OPEN_BUILDER_ENABLE").getValue(),"N")?(apex.item("R0_OPEN_BUILDER_KB_SHORTCUT_CONTAINER").disable(),apex.item("R0_OPEN_BUILDER_CACHE_CONTAINER").disable(),apex.item("R0_OPEN_BUILDER_APP_LIMIT_CONTAINER").disable()):(apex.item("R0_OPEN_BUILDER_KB_SHORTCUT_CONTAINER").enable(),apex.item("R0_OPEN_BUILDER_CACHE_CONTAINER").enable(),apex.item("R0_OPEN_BUILDER_APP_LIMIT_CONTAINER").enable())})}}(),$.isEmptyObject(pdt.JSONsettings)||("Y"==t("revealer.enable")&&pdt.pretiusContentRevealer.addHipster(),"Y"==t("reloadframe.enable")&&pdt.pretiusContentReloadFrame.activate(),"Y"==t("buildoptionhightlight.enable")&&pdt.contentBuildOptionHighlight.activate(),"Y"==t("devbar.openbuilderenable")&&pdt.pretiusContentDevBar.activateOpenBuilder(),"Y"==t("devbar.glowdebugenable")&&pdt.pretiusContentDevBar.activateGlowDebug(),"Y"==t("devbar.homereplacelink")&&pdt.pretiusContentDevBar.activateHomeReplace())),pdt.fixToolbarWidth()},da:void 0,opt:void 0,JSONsettings:void 0,nvl:e,fixToolbarWidth:i,getSetting:t,pageDebugLevel:void 0,cloakDebugLevel:function e(){pdt.pageDebugLevel=apex.item("pdebug").getValue(),apex.item("pdebug").setValue("LEVEL2")},unCloakDebugLevel:function e(){void 0!=pdt.pageDebugLevel&&apex.item("pdebug").setValue(pdt.pageDebugLevel)},ajaxErrorHandler:function e(t,i,a){pdt.unCloakDebugLevel(),apex.message.clearErrors(),apex.message.showErrors([{type:"error",location:["page"],message:a+"<br>Please check browser console.",unsafe:!1}]),apex.debug.info(t,i,a)},optIn:function e(){var t=JSON.parse(localStorage.getItem("pretiusDeveloperTool"));null!=t&&(t.settings.optout.status="N",localStorage.setItem("pretiusDeveloperTool",JSON.stringify(t)),apex.message.showPageSuccess("Opted In to Pretius Developer Tool. Refresh your browser."))}}}();